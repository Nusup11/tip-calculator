# Техническое задание: Калькулятор чаевых (Tip Calculator)

## 1. Общая информация

### 1.1. Назначение проекта
Веб-приложение для быстрого расчета и разделения счета с учетом чаевых между несколькими людьми.

### 1.2. Целевая аудитория
Пользователи, которые хотят быстро рассчитать размер чаевых и разделить общий счет между участниками.

### 1.3. Технологический стек
- **Frontend Framework**: React 18.2.0
- **Build Tool**: Vite 5.0.8
- **Styling**: Tailwind CSS 3.4.0
- **PostCSS**: 8.4.32
- **Autoprefixer**: 10.4.16
- **Язык**: JavaScript (ES6+)
- **Формат модулей**: ES Modules

## 2. Функциональные требования

### 2.1. Основной функционал

#### 2.1.1. Ввод суммы счета
- **Поле ввода**: "Сумма счёта"
- **Тип**: числовое поле (number)
- **Placeholder**: "0.00"
- **Валидация**: принимает только числовые значения
- **Поведение**: при вводе автоматически пересчитываются все значения

#### 2.1.2. Выбор процента чаевых
- **Предустановленные значения**: 10%, 15%, 18%, 20%
- **Визуальное отображение**: кнопки в сетке 4 колонки
- **Выделение активной кнопки**: фиолетовый фон (bg-purple-600) с белым текстом
- **Неактивные кнопки**: серый фон (bg-gray-100) с темно-серым текстом
- **Hover эффект**: изменение цвета при наведении
- **Custom процент**: 
  - Кнопка "Custom" для ввода произвольного процента
  - При нажатии появляется поле ввода для кастомного процента
  - При выборе кастомного процента стандартные кнопки деактивируются

#### 2.1.3. Количество людей
- **Минимальное значение**: 1
- **Элементы управления**:
  - Кнопка уменьшения (-)
  - Поле ввода (числовое, центрированное)
  - Кнопка увеличения (+)
- **Валидация**: значение не может быть меньше 1
- **Подсказка**: "Минимум 1" рядом с полем

#### 2.1.4. Округление результатов
- **Варианты округления**:
  1. **Без (2 знака)** - отображение с двумя знаками после запятой
  2. **В меньшую** - округление вниз (Math.floor)
  3. **В большую** - округление вверх (Math.ceil)
  4. **До стандарта** - округление до ближайшего целого (Math.round)
- **Тип элемента**: радио-кнопки
- **По умолчанию**: "Без (2 знака)"

### 2.2. Расчеты

#### 2.2.1. Формулы расчета
- **Сумма чаевых** = Сумма счёта × (Процент чаевых / 100)
- **Итоговая сумма** = Сумма счёта + Сумма чаевых
- **Сумма на человека** = Итоговая сумма / Количество людей

#### 2.2.2. Применение округления
- Округление применяется только к "Сумме на человека"
- Формат отображения зависит от выбранного типа округления:
  - "Без (2 знака)": `amount.toFixed(2)`
  - Остальные варианты: `Math.round(amount).toFixed(0)`

#### 2.2.3. Автоматический пересчет
- Все значения пересчитываются автоматически при изменении любого входного параметра
- Пересчет происходит в реальном времени без необходимости нажатия кнопок

### 2.3. Отображение результатов

#### 2.3.1. Блок результатов
- **Расположение**: правая колонка интерфейса
- **Заголовок**: "Быстро рассчитать и разделить счёт"
- **Фон**: светло-серый (bg-gray-50)
- **Скругление углов**: rounded-lg
- **Отступы**: p-6

#### 2.3.2. Отображаемые значения
1. **Сумма чаевых**
   - Метка: "Сумма чаевых"
   - Значение: форматированное число + "сом"
   - Размер шрифта: text-2xl
   - Цвет: темно-серый (text-gray-800)

2. **Итоговая сумма**
   - Метка: "Итоговая сумма"
   - Значение: форматированное число + "сом"
   - Размер шрифта: text-2xl
   - Цвет: темно-серый (text-gray-800)

3. **Сумма на человека**
   - Метка: "Сумма на человека"
   - Значение: форматированное число + "сом"
   - Размер шрифта: text-3xl (крупнее остальных)
   - Цвет: фиолетовый (text-purple-600)
   - Визуальное выделение: разделительная линия сверху (border-t)

### 2.4. Дополнительные функции

#### 2.4.1. Кнопка "Сброс"
- **Назначение**: сброс всех полей к значениям по умолчанию
- **Значения по умолчанию**:
  - Сумма счёта: пустая строка
  - Процент чаевых: 15%
  - Custom процент: пустая строка
  - Количество людей: 1
  - Округление: "Без (2 знака)"
- **Стиль**: серый фон (bg-gray-100)
- **Hover эффект**: bg-gray-200

#### 2.4.2. Кнопка "Копировать"
- **Назначение**: копирование суммы на человека в буфер обмена
- **Формат копирования**: "{сумма} сом"
- **Стиль**: фиолетовый фон (bg-purple-600) с белым текстом
- **Hover эффект**: bg-purple-700
- **Технология**: Navigator Clipboard API

## 3. Дизайн и UI/UX

### 3.1. Общий стиль
- **Философия дизайна**: чистый, минималистичный
- **Цветовая схема**:
  - Основной фон: светло-серый (bg-slate-100)
  - Карточка: белый (bg-white)
  - Акцентный цвет: фиолетовый (purple-600, purple-700)
  - Вторичный цвет: синий (blue-600) для градиента логотипа
  - Текст: серые оттенки (gray-700, gray-800)

### 3.2. Логотип
- **Расположение**: левая колонка, в заголовке
- **Размер**: 64×64px (w-16 h-16)
- **Форма**: квадрат с закругленными углами (rounded-xl)
- **Градиент**: от фиолетового (from-purple-600) к синему (to-blue-600)
- **Текст**: "TIP" белым цветом, жирный шрифт (font-bold), размер text-xl
- **Эффект**: тень (shadow-lg)
- **Favicon**: SVG файл с аналогичным дизайном

### 3.3. Макет

#### 3.3.1. Структура
- **Контейнер**: центрированный, максимальная ширина max-w-4xl
- **Сетка**: две колонки на десктопе (md:grid-cols-2), одна колонка на мобильных
- **Отступы**: p-8 внутри карточки, p-4 снаружи
- **Зазор между колонками**: gap-8

#### 3.3.2. Левая колонка (Входные данные)
- **Заголовок**: "Калькулятор чаевых" (text-3xl, font-bold)
- **Поля формы**: вертикальное расположение (space-y-6)
- **Подсказки**: мелкий текст внизу (text-xs)

#### 3.3.3. Правая колонка (Результаты)
- **Заголовок**: "Быстро рассчитать и разделить счёт" (text-2xl, font-bold)
- **Блок результатов**: серый фон, скругленные углы
- **Кнопки действий**: две кнопки в ряд (flex gap-3)

### 3.4. Адаптивность
- **Мобильные устройства**: 
  - Колонки располагаются вертикально
  - Все элементы остаются читаемыми
  - Кнопки и поля ввода адаптируются под ширину экрана
- **Планшеты и десктопы**: 
  - Две колонки рядом
  - Оптимальное использование пространства

### 3.5. Интерактивность
- **Hover эффекты**: на всех кнопках и интерактивных элементах
- **Focus состояния**: кольцо фиолетового цвета (focus:ring-2 focus:ring-purple-500) на полях ввода
- **Переходы**: плавные переходы цветов (transition-colors)

## 4. Технические требования

### 4.1. Производительность
- **Загрузка**: быстрая загрузка благодаря Vite
- **Пересчет**: мгновенный пересчет при изменении данных
- **Оптимизация**: использование React hooks для эффективного управления состоянием

### 4.2. Совместимость
- **Браузеры**: современные браузеры с поддержкой ES6+
- **Устройства**: десктоп, планшет, мобильные устройства
- **API**: Navigator Clipboard API для функции копирования

### 4.3. Доступность
- **Семантическая разметка**: использование label для полей ввода
- **Клавиатурная навигация**: все элементы доступны с клавиатуры
- **Контрастность**: достаточный контраст текста и фона

## 5. Структура проекта

### 5.1. Файловая структура
```
tip-calculator-vite-tailwind/
├── public/
│   └── favicon.svg          # Логотип для вкладки браузера
├── src/
│   ├── App.jsx              # Основной компонент приложения
│   ├── main.jsx             # Точка входа React приложения
│   └── index.css            # Глобальные стили и Tailwind директивы
├── index.html               # HTML шаблон
├── package.json             # Зависимости и скрипты
├── vite.config.js           # Конфигурация Vite
├── tailwind.config.js       # Конфигурация Tailwind CSS
├── postcss.config.js        # Конфигурация PostCSS
├── .gitignore               # Игнорируемые файлы Git
└── README.md                # Документация проекта
```

### 5.2. Компоненты
- **App.jsx**: единственный компонент приложения, содержит всю логику и UI

### 5.3. Состояние приложения
Используется React useState для управления состоянием:
- `bill`: сумма счёта (string)
- `percent`: выбранный процент чаевых (number, по умолчанию 15)
- `custom`: кастомный процент (string)
- `people`: количество людей (number, по умолчанию 1)
- `rounding`: тип округления (string: 'none', 'floor', 'ceil', 'standard')

## 6. Скрипты и команды

### 6.1. Разработка
```bash
npm install    # Установка зависимостей
npm run dev    # Запуск dev-сервера
```

### 6.2. Сборка
```bash
npm run build  # Сборка production версии
npm run preview # Предпросмотр production сборки
```

## 7. Валюта
- **Валюта по умолчанию**: сом (сом)
- **Отображение**: все денежные значения отображаются с валютой "сом"
- **Форматирование**: в зависимости от типа округления

## 8. Дополнительные требования

### 8.1. Подсказки для пользователя
- Текст подсказки: "Подсказка: значения пересчитываются автоматически при изменении входных данных."
- Информация о дизайне: "Дизайн: чистый, минималистичный — легко адаптируется под мобильные экраны."

### 8.2. Метаданные
- **Язык**: русский (lang="ru")
- **Кодировка**: UTF-8
- **Viewport**: адаптивный для мобильных устройств
- **Title**: "Калькулятор чаевых - Tip Calculator"

## 9. Ограничения и допущения

### 9.1. Ограничения
- Минимальное количество людей: 1
- Отрицательные значения не допускаются
- Кастомный процент переопределяет стандартные кнопки

### 9.2. Допущения
- Пользователь вводит корректные числовые значения
- Браузер поддерживает Clipboard API
- JavaScript включен в браузере

## 10. Будущие улучшения (опционально)
- Поддержка разных валют
- История расчетов
- Экспорт результатов
- Темная тема
- Локализация на другие языки
- Сохранение настроек в localStorage

---

**Версия документа**: 1.0  
**Дата создания**: 2025  
**Статус**: Реализовано

